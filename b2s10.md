# Taller Individual 2
## Programación Funcional Reactiva con REScala

**Semana**: 10

**Objetivos**:

- Aplicar los conocimientos sobre programación funcional reactiva utilizando la librería **REScala**.
- Comprender el manejo de grafos de dependencia mediante `Var` y `Signal`.



---

### Problema 1: Suma Reactiva de Números

Crear un programa usando **REScala** que gestione una lista de calificaciones (números enteros). El sistema debe reaccionar automáticamente calculando la suma total cada vez que la lista sea modificada.

**Instrucciones técnicas**:
1.  **Fuente de datos**: Define una `Var[List[Int]]` inicializada con una lista vacía o valores base.
2.  **Valor derivado**: Crea un `Signal[Int]` que dependa de la variable anterior y calcule la suma de sus elementos.
3.  **Salida**: Usa un observador (`.observe`) para imprimir el resultado automáticamente en la consola cuando cambie el estado.


**Entrada esperada (Ejemplo de uso en el `main`)**
```scala
// Suponiendo estado inicial: List(10)
// Actualización explícita: obtener actual + nuevo valor -> setear
calificaciones.set(calificaciones.now :+ 10) 
calificaciones.set(calificaciones.now :+ 20) 
```

**Salida esperada**
```text
Suma actual = 20
Suma actual = 40
```

> **Entregable:** Adjuntar capturas de la ejecución mostrando el código y la salida en consola.
```
import rescala.default._

object SumaReactiva extends App {

  // Definimos una Var iniciada con una lista que contiene un 10
  val calificaciones = Var(List(10))

  // Creamos un Signal que depende de 'calificaciones'.
  // Cada vez que 'calificaciones' cambie, este bloque se re-evalúa automáticamente.
  val sumaTotal = Signal{ (calificaciones.value.sum) }

  // El observador se dispara cada vez que el valor del Signal 'sumaTotal' cambia.
  // Nota: También se dispara inmediatamente con el valor actual al definirse.
  val imprimirResultado = sumaTotal.observe { suma =>println(s"Suma actual = $suma")
  }
  //Ejecución

  println("--- Iniciando actualizaciones ---")

  //Actualización 1
  //Estado pasa de List(10) a List(10, 10) -> Suma debe ser 20
  calificaciones.set(calificaciones.now :+ 10)

  //Actualización 2
  //Estado pasa de List(10, 10) a List(10, 10, 20) -> Suma debe ser 40
  calificaciones.set(calificaciones.now :+ 20)
}
```
<img width="835" height="948" alt="image" src="https://github.com/user-attachments/assets/55c78af0-5c87-4687-ab14-5f4f42ad342c" />

---

### Problema 2: Cálculo de la Energía Cinética de un Vehículo

Desarrolla un sistema que simule el monitoreo en tiempo real de la energía cinética de un vehículo. El programa debe recalcular el valor y verificar alertas de seguridad cada vez que se modifique manualmente la masa o la velocidad.

**Pasos a seguir**:

1.  **Variables Reactivas (`Var`):**
    * Crea una variable para la **masa** ($m$) en kilogramos.
    * Crea una variable para la **velocidad** ($v$) en metros por segundo.

2.  **Cálculo Dinámico (`Signal`):**
    * Define una señal llamada `energiaCinetica` que calcule el valor automáticamente usando la fórmula:
      
$$
E_k = \frac{1}{2} m v^2
$$

3.  **Observación y Alertas:**
    * Implementa un observador sobre la señal `energiaCinetica`.
    * El observador debe imprimir el valor de la energía calculado.
    * **Condición de Alerta**: Si la energía calculada es mayor a **1,000,000**, debe imprimir inmediatamente:
        **"Alerta: Energía cinética muy alta, reduzca la velocidad."**

**Escenario de Prueba (Test de Escritorio):**
1.  Inicializar `masa` = 1000, `velocidad` = 30.
2.  Actualizar `velocidad` a 50 (usando `.set`).
3.  Actualizar `masa` a 2000 (usando `.set`).

**Salida esperada (Aproximada)**:
```text
Energía Cinética: 450000.0
Energía Cinética: 1250000.0
Alerta: Energía cinética muy alta, reduzca la velocidad.
Energía Cinética: 2500000.0
Alerta: Energía cinética muy alta, reduzca la velocidad.
```

> **Entregable:** Adjuntar capturas de ejecución que demuestren el funcionamiento de la fórmula y la activación de la alerta.
```
import rescala.default._

object EnergiaCineticaVehiculo extends App {

  // --- 1. Variables Reactivas (Var) ---
  // Inicializamos masa en 1000 kg y velocidad en 30 m/s
  val masa = Var(1000.0)       // Usamos .0 para asegurar que sea Double
  val velocidad = Var(30.0)

  // --- 2. Cálculo Dinámico (Signal) ---
  // La fórmula es: Ek = 0.5 * m * v^2
  // Usamos () o .value para acceder al valor y crear la dependencia
  val energiaCinetica = Signal {
    0.5 * masa.value * math.pow(velocidad.value, 2)
  }

  // --- 3. Observación y Alertas ---
  // Este bloque se ejecuta automáticamente cada vez que cambia la energía
  val monitor = energiaCinetica.observe { e =>
    // Imprimir el valor calculado
    println(s"Energía Cinética: $e")

    // Verificación de alerta de seguridad
    if (e > 1000000) {
      println("Alerta: Energía cinética muy alta, reduzca la velocidad.")
    }
  }

  // --- Escenario de Prueba (Test de Escritorio) ---
  println("Inicio del Monitoreo...")

  // El estado inicial (1000kg, 30m/s) ya se imprimió al definir el observer.
  // Resultado esperado: 450,000.0

  // Paso 2: Actualizar velocidad a 50
  println(s"\n>> Aumentando velocidad a 50 m/s...")
  velocidad.set(50.0)
  // Esperado: 1,250,000.0 + ALERTA

  // Paso 3: Actualizar masa a 2000
  println(s"\n>> Aumentando masa a 2000 kg...")
  masa.set(2000.0)
  // Esperado: 2,500,000.0 + ALERTA
}
```
<img width="934" height="1002" alt="image" src="https://github.com/user-attachments/assets/799a7c8f-e2e7-4c9b-8776-dd1c43027dfb" />

---

### Calificación

Una vez que termine debe presentar su trabajo a su docente.

- **10 puntos:** Si presenta en el horario de prácticas y experimentación.
- **7 puntos:** Si presenta en el horario de tutoría.

**Hora máxima de presentación:** 08h30
